diff -Naur -X /Users/teastep/bin/exclude.txt shorewall6-4.4.12/changelog.txt shorewall6-4.4.12.1/changelog.txt
--- shorewall6-4.4.12/changelog.txt	2010-08-17 07:34:57.000000000 -0700
+++ shorewall6-4.4.12.1/changelog.txt	2010-08-24 13:17:59.000000000 -0700
@@ -1,3 +1,9 @@
+Changes in Shorewall 4.4.12.1
+
+1)  Fix optimization bugs.
+
+2)  Fix detection of old ipset match capability
+
 Changes in Shorewall 4.4.12
 
 1)  Fix IPv6 shorecap program.
diff -Naur -X /Users/teastep/bin/exclude.txt shorewall6-4.4.12/install.sh shorewall6-4.4.12.1/install.sh
--- shorewall6-4.4.12/install.sh	2010-08-17 07:34:21.000000000 -0700
+++ shorewall6-4.4.12.1/install.sh	2010-08-24 13:15:35.000000000 -0700
@@ -22,7 +22,7 @@
 #       Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 #
 
-VERSION=4.4.12
+VERSION=4.4.12.1
 
 usage() # $1 = exit status
 {
diff -Naur -X /Users/teastep/bin/exclude.txt shorewall6-4.4.12/releasenotes.txt shorewall6-4.4.12.1/releasenotes.txt
--- shorewall6-4.4.12/releasenotes.txt	2010-08-17 07:34:57.000000000 -0700
+++ shorewall6-4.4.12.1/releasenotes.txt	2010-08-24 13:17:59.000000000 -0700
@@ -1,5 +1,5 @@
 ----------------------------------------------------------------------------
-                      S H O R E W A L L  4 . 4 . 1 2
+                   S H O R E W A L L  4 . 4 . 1 2 . 1
 ----------------------------------------------------------------------------
 
 I.    RELEASE 4.4 HIGHLIGHTS
@@ -10,7 +10,7 @@
 VI.   PROBLEMS CORRECTED AND NEW FEATURES IN PRIOR RELEASES
 
 ----------------------------------------------------------------------------
-             I.  R E L E A S E  4 . 4  H I G H L I G H T S
+                I.  R E L E A S E  4 . 4  H I G H L I G H T S
 ----------------------------------------------------------------------------
 
 1)  Support for Shorewall-shell has been discontinued. Shorewall-perl
@@ -224,6 +224,22 @@
 I I I.  P R O B L E M S   C O R R E C T E D   I N   T H I S  R E L E A S E
 ----------------------------------------------------------------------------
 
+4.4.12.1
+
+1)  Under rare circumstances where COMMENT is used to attach comments
+    to rules, OPTIMIZE 8 through 15 could result in invalid
+    iptables-restore (ip6tables-restore) input.
+
+2)  Under rare circumstances unvolving exclusion, OPTIMIZE 8 through 15
+    could result in invalid iptables-restore (ip6tables-restore) input.
+
+3)  The change in 4.4.12 to detect and use the new ipset match syntax
+    broke the ability to detect the old ipset match capability. Now,
+    both versions of the capability can be correctly detected.
+
+4.4.12
+
+
 1)  Previously, the Shorewall6-lite version of shorecap was using
     iptables rather than ip6tables, with the result that many capabilities
     that are only available in IPv4 were being reported as available.
diff -Naur -X /Users/teastep/bin/exclude.txt shorewall6-4.4.12/shorewall6.spec shorewall6-4.4.12.1/shorewall6.spec
--- shorewall6-4.4.12/shorewall6.spec	2010-08-17 07:34:21.000000000 -0700
+++ shorewall6-4.4.12.1/shorewall6.spec	2010-08-24 13:15:35.000000000 -0700
@@ -1,6 +1,6 @@
 %define name shorewall6
 %define version 4.4.12
-%define release 0base
+%define release 1
 
 Summary: Shoreline Firewall 6 is an ip6tables-based firewall for Linux systems.
 Name: %{name}
@@ -98,6 +98,8 @@
 %doc COPYING INSTALL changelog.txt releasenotes.txt tunnel ipsecvpn ipv6 Samples6
 
 %changelog
+* Mon Aug 23 2010 Tom Eastep tom@shorewall.net
+- Updated to 4.4.12-1
 * Sun Aug 15 2010 Tom Eastep tom@shorewall.net
 - Updated to 4.4.12-0base
 * Fri Aug 06 2010 Tom Eastep tom@shorewall.net
diff -Naur -X /Users/teastep/bin/exclude.txt shorewall6-4.4.12/uninstall.sh shorewall6-4.4.12.1/uninstall.sh
--- shorewall6-4.4.12/uninstall.sh	2010-08-17 07:34:21.000000000 -0700
+++ shorewall6-4.4.12.1/uninstall.sh	2010-08-24 13:15:35.000000000 -0700
@@ -26,7 +26,7 @@
 #       You may only use this script to uninstall the version
 #       shown below. Simply run this script to remove Shorewall Firewall
 
-VERSION=4.4.12
+VERSION=4.4.12.1
 
 usage() # $1 = exit status
 {
